<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#000000">
    <meta name="msapplication-navbutton-color" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">

    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <title>ACELYA ❤️ EMIRHAN</title>
    <link rel="stylesheet" href="style/style.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,300,0,0"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100&display=swap" rel="stylesheet">
    <style>
        .replay-button {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: rgba(255, 255, 255, 0.2);
            border: 2px solid white;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            z-index: 1000;
            transition: all 0.3s ease;
            font-family: 'Roboto', sans-serif;
        }

        .replay-button:hover {
            background-color: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }
    </style>
</head>

<body>
    <div class="hearts" id="hearts"></div>
    <div id="counter-page" style="display: none;">
        <audio id="background-music" loop>
            <source src="./music/music.mp3" type="audio/mp3">
        </audio>
        <audio id="love-music" loop>
            <source src="./music/love-music.mp3" type="audio/mp3">
        </audio>
        <div id="music-button" class="button">♫ Şarkıyı Çal ♫</div>
        <div class="countdown-container">
            <div class="countdown">
                <div class="time-block">
                    <div class="number" id="days">00</div>
                    <div class="label">Gün</div>
                </div>
                <div class="time-block">
                    <div class="number" id="hours">00</div>
                    <div class="label">Saat</div>
                </div>
                <div class="time-block">
                    <div class="number" id="minutes">00</div>
                    <div class="label">Dakika</div>
                </div>
                <div class="time-block">
                    <div class="number" id="seconds">00</div>
                    <div class="label">Saniye</div>
                </div>
            </div>
        </div>
        <div id="word-container"></div>
        <div class="heart-container">
            <span class="material-symbols-outlined light-mode">favorite</span>
        </div>
    </div>


    <div id="home-screen">
        <div class="replay-button" onclick="replayAnimation()">Tekrar</div>
        <section id="home-page">
            <p id="title">ACELYA ♥ EMIRHAN</p>
            <div class="music-container" onclick="aud_play_pause()">
                <div class="music-bar">
                    <span class="material-symbols-outlined music-button">volume_up</span>
                    <p>Rafat Hasanlı - Eserdin Tenimde</p>
                </div>
            </div>
            <div class="down-button-container">
                <a href="#gallery-page">
                    <div class="profile-down-button">
                        <div class="down-button-l"></div>
                        <div class="down-button-r"></div>
                    </div>
                </a>
            </div>
            <div class="heart-container">
                <span class="material-symbols-outlined light-mode">favorite</span>
            </div>
        </section>
        <section id="gallery-page">
            <div class="gallery-container">
                <ul class="image-gallery">
                    <li><img src="images/1.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/2.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/28.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/29.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/4.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/6.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/7.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/8.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/9.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/10.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/11.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/12.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/13.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/14.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/15.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/16.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/17.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/18.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/19.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/5.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/3.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/20.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/21.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/22.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/23.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/24.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/25.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/26.jpg" class="photo" loading="lazy" /></li>
                    <li><img src="images/27.jpg" class="photo" loading="lazy" /></li>
                </ul>
            </div>
        </section>
        <section class="socialmedias-page" id="socialmedias-page">
            <div class="container">
                <p class="for-us">
                    Birtanem, en değerlim...<br>
                    Bugün senin doğum günün. Beraber geçirdiğimiz ilk doğum günü.<br>
                    Bana çok şey kattın. Sevginin ne demek olduğunu, nasıl sevildiğini sende öğrendim.<br>
                    İyi ki benim sevgilim oldun. Her adımımda, her nefesimde sen varsın.<br>
                    Seninle birlikte geçirdiğimiz her an, beni sana daha çok bağlıyor.<br>
                    Kalbimi öyle büyük bir mutlulukla dolduruyorsun ki...<br>
                    Seninle geçirdiğim her an, uyanmak istemediğim bir rüya gibi.<br>
                    Sen benim güneşim, huzurum, sonsuz aşkımsın.<br>
                    En değerli hazinemsin ve seni kelimelerle ifade edemeyeceğim kadar çok seviyorum.<br>
                    İyi ki doğdun. Yeni yaşında hayal ettiğin tüm güzellikler gerçekleşsin.<br>
                    Seninle bir ömür boyu mutluluklarımız sürsün.<br>
                    Doğum günün kutlu olsun.<br>
                    Birlikte daha çok güleceğimiz ve eğleneceğimiz senelerimiz olsun.<br>
                    İyi ki varsın... Her şeyimm...<br>
                </p>
            </div>
        </section>
        <section class="copyright-page" id="copyright-page">
            <h4>Tüm Haklarım Sana Ait ❤️</h4>
        </section>
    </div>

    <div id="fullpage">
        <div id="fullpage_img_container">
            <div id="fullpage_img"></div>
            <video id="theVideo">
                <source id="sourceVideo" type="video/mp4">
            </video>
        </div>
    </div>
    <div class="loader-container">
        <div class="loader"></div>
    </div>

    <script src="scripts/fullimage.js"></script>
    <script src="scripts/transition.js"></script>
    <script src="scripts/light-mode.js"></script>
    <script src="scripts/loader.js"></script>
    <script src="scripts/title.js"></script>


    <script>
        const handleButtonState = (event, className) => {
            const target = event.target.closest('.button');
            if (target) target.classList[event.type === 'mousedown' || event.type === 'touchstart' ? 'add' : 'remove'](className);
        };
        document.querySelectorAll('.button').forEach(button => {
            ['mousedown', 'touchstart', 'mouseup', 'mouseleave', 'touchend'].forEach(eventType => {
                button.addEventListener(eventType, event => handleButtonState(event, 'clicked'));
            });
        });

        const music = document.getElementById('background-music');
        const loveMusic = document.getElementById('love-music');
        const playButton = document.getElementById('music-button');


        function aud_play_pause() {
            if (music.paused) {
                loveMusic.pause();
                music.play();
            } else {
                music.pause();
            }
        }

        playButton.addEventListener('click', () => {
            if (music.paused) {
                loveMusic.pause();
                music.play()
                    .then(() => {
                        playButton.innerHTML = '♫ Şarkıyı Durdur ♫';
                    })
            } else {
                music.pause();
                playButton.innerHTML = '♫ Şarkıyı Çal ♫';
            }
        });

        // const targetDate = new Date('2025-04-26T00:00:00+03:00').getTime(); // main time
        let targetDate = new Date('2025-04-09T21:28:00').getTime(); // for developer time

        function createFirework(x, y) {
            const firework = document.createElement('div');
            firework.className = 'firework';
            document.body.appendChild(firework);

            const explosion = document.createElement('div');
            explosion.className = 'explosion';
            explosion.style.left = x + 'px';
            explosion.style.top = y + 'px';
            explosion.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
            firework.appendChild(explosion);

            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                const angle = (i / 30) * 360;
                const velocity = 50 + Math.random() * 30;
                particle.style.setProperty('--x', Math.cos(angle * Math.PI / 180) * velocity + 'px');
                particle.style.setProperty('--y', Math.sin(angle * Math.PI / 180) * velocity + 'px');
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                firework.appendChild(particle);
            }

            setTimeout(() => firework.remove(), 1000);
        }

        function launchFireworks() {
            setInterval(() => {
                const x = Math.random() * window.innerWidth;
                const y = Math.random() * window.innerHeight;
                createFirework(x, y);
            }, 300);
        }

        function celebrationEffects() {
            const duration = 10 * 1000;
            const animationEnd = Date.now() + duration;

            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }

            const interval = setInterval(function () {
                const timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                const particleCount = 50;

                confetti({
                    particleCount,
                    startVelocity: 30,
                    spread: 360,
                    origin: {
                        x: randomInRange(0.1, 0.9),
                        y: Math.random() - 0.2
                    },
                    colors: ['#ff0000', '#ff3366', '#ffffff', '#ff69b4', '#ffc0cb'],
                    shapes: ['circle', 'square'],
                    gravity: 1.5,
                    scalar: 2,
                    drift: 0
                });

                confetti({
                    particleCount: 15,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: ['#FFD700', '#FFA500', '#ff3366']
                });

                confetti({
                    particleCount: 15,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: ['#FFD700', '#FFA500', '#ff3366']
                });
            }, 250);
        }

        function fadeOutElement(element) {
            return new Promise(resolve => {
                element.classList.add('fade-out');
                setTimeout(() => {
                    element.style.display = 'none';
                    resolve();
                }, 2000);
            });
        }

        function showMainContent() {
            const countdownPage = document.querySelector('#counter-page');

            setTimeout(() => {
                countdownPage.style.display = 'none';
            }, 10000);
        }

        function createHearts() {
            const heartsContainer = document.getElementById('hearts');
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = '❤️';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 3 + 3) + 's';
            heartsContainer.appendChild(heart);

            setTimeout(() => {
                heart.remove();
            }, 6000);
        }

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = targetDate - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            if (distance <= 0) {
                clearInterval(countdownIntervalId);
                document.querySelector('#counter-page').style.display = 'none';
                document.querySelector('#home-screen').style.display = 'block';
                document.querySelector('.replay-button').style.display = 'block';
                return;
            }
            else {
                document.querySelector('#counter-page').style.display = 'flex';
            }

            if (distance <= 10000 && loveMusic.muted) {
                loveMusic.muted = false;
            }

            if (distance <= 10000 && !document.querySelector('#counter-page').classList.contains('fireworks-started')) {
                document.querySelector('#counter-page').classList.add('fireworks-started');
                celebrationEffects();
                if (!music.paused) {
                    music.pause();
                }
                if (loveMusic.paused) {
                    loveMusic.currentTime = 11; // 14. saniyeden başla
                    loveMusic.play();
                }
                playButton.innerHTML = '♫ Şarkıyı Durdur ♫';
                playButton.classList.add('disabled');
                playButton.style.opacity = '0.5';
                playButton.style.pointerEvents = 'none';
                setTimeout(() => {
                    showMainContent();
                }, 10000);
            }

            document.getElementById('days').innerHTML = days.toString().padStart(2, '0');
            document.getElementById('hours').innerHTML = hours.toString().padStart(2, '0');
            document.getElementById('minutes').innerHTML = minutes.toString().padStart(2, '0');
            document.getElementById('seconds').innerHTML = seconds.toString().padStart(2, '0');
        }

        function replayAnimation() {
            document.querySelector('.replay-button').style.display = 'none';

            music.currentTime = 0;
            music.pause();
            loveMusic.currentTime = 8;
            loveMusic.muted = true;
            loveMusic.play();
            playButton.innerHTML = '♫ Şarkıyı Çal ♫';
            playButton.classList.remove('disabled');
            playButton.style.opacity = '1';
            playButton.style.pointerEvents = 'auto';

            document.querySelector('#home-screen').style.display = 'none';
            document.querySelector('#counter-page').style.display = 'flex';
            document.querySelector('#counter-page').classList.remove('fireworks-started');

            targetDate = new Date().getTime() + 16000; // 16 seconds from now

            if (countdownIntervalId) {
                clearInterval(countdownIntervalId);
            }

            setTimeout(updateCountdown, 0); // Hemen başlat ama senkron kal
            countdownIntervalId = setInterval(updateCountdown, 1000);
        }


        let countdownIntervalId;
        countdownIntervalId = setInterval(updateCountdown, 1000);
        updateCountdown();

        setInterval(createHearts, 250);

        const words = ["'26.04'", "'Vadi İstanbul'", "'30.09.2024'", "'14:45'"];
        const container = document.getElementById('word-container');
        let index = 0;


        function showWord() {
            container.textContent = words[index];
            container.style.opacity = 1;

            setTimeout(() => {
                container.style.opacity = 0;
                setTimeout(() => {
                    index = (index + 1) % words.length;
                    showWord();
                }, 1000);
            }, 2000);
        }

        showWord();
    </script>

</body>

</html>